<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Distance Sensor</title>
</head>
<body>
    <pre>
        <code>
            #include &lt;Adafruit_NeoPixel.h>

                const int photo = 1;
                const int tmp = 0;
                int signal = 12;
                
                const int pies = 11;
                
                const int PIN = 0;
                
                int distance;
                unsigned long pulseduration = 0;
                
                int pirPin = 13;
                
                #define PIN 2	 
                
                #define NUMPIXELS 4 
                
                Adafruit_NeoPixel pixels = Adafruit_NeoPixel(NUMPIXELS, PIN, NEO_GRB + NEO_KHZ800);
                
                
                int redColor = 0;
                int greenColor = 0;
                int blueColor = 0;
                
                int dist = 0;
                
                void measureDistance()
                {
                
                 pinMode(signal, OUTPUT);
                
                 digitalWrite(signal, LOW);
                 delayMicroseconds(5);
                 
                 digitalWrite(signal, HIGH);
                 delayMicroseconds(5);
                 digitalWrite(signal, LOW);
                
                 pinMode(signal, INPUT);
                 
                
                 pulseduration = pulseIn(signal, HIGH);
                }
                
                void printDistance()
                {
                  
                 measureDistance();
                 
                
                 pulseduration=pulseduration/2; 
                
                 distance = int(pulseduration/29);
                
                 Serial.println(distance);
                  
                 dist = distance;
                
                }
                
                void setup()
                {
                  Serial.begin(9600);
                  pixels.begin();
                 
                  pinMode(pirPin, INPUT);
                }
                
                
                void loop()
                {
                  if (analogRead(photo)&lt;70&&analogRead(tmp)>80&&(digitalRead(pirPin) == HIGH&&distance>170)) {
                    pixels.setPixelColor(3, pixels.Color(0,255,0));
                    
                    pixels.setPixelColor(2, pixels.Color(255,0,0));
                    pixels.setPixelColor(1, pixels.Color(255,0,0));
                    pixels.setPixelColor(0, pixels.Color(255,0,0));
                    
                    pixels.show();
                    
                    tone(pies,440,100);
                  } else {
                    if (analogRead(photo)&lt;70) {
                      pixels.setPixelColor(0, pixels.Color(0, 255, 0));
                
                      pixels.show();
                    } else {
                      pixels.setPixelColor(0, pixels.Color(255, 0, 0));
                
                      pixels.show();
                
                    }
                
                    if (analogRead(tmp)>80) {
                      pixels.setPixelColor(1, pixels.Color(0,255,0));
                
                      pixels.show();
                    } else {
                       pixels.setPixelColor(1, pixels.Color(255, 0, 0));
                
                       pixels.show();
                    }
                
                    printDistance();
                
                    if ((digitalRead(pirPin) == HIGH&&distance>170)) {
                      pixels.setPixelColor(2, pixels.Color(0,255,0));
                
                      pixels.show();
                    } else {
                       pixels.setPixelColor(2, pixels.Color(255, 0, 0));
                
                       pixels.show();
                    }
                  }
                 
                }
        </code>
    </pre>
    <br><hr><br>
    <p>
        Требования:
        <ul>
            <li>1 батарея 9 В</li>
            <li>1 пьезо-элемент;</li>
            <li>1 резистор на 10k&Omega;</li>
            <li>1 фоторезистор</li>
            <li>1 ультразвуковой датчик расстояния</li>
            <li>1 пироэлектрический ИК-датчик</li>
            <li>1 NeoPixel Strip 4</li>
        </ul>
      </p>
    <p>
        Результат:
        У вас будет рабочая сигнализация.
        Кол-Во тестов - 1.
      </p>
      <br><hr><br>
    <img alt="arduinoImage" src="../img/ping.PNG">
    <a href="../index.html" target="_blank">Обратно</a>
</body>
</html>
